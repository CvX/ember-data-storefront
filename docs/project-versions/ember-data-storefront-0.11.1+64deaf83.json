{"data":{"type":"project-version","id":"ember-data-storefront-0.11.1+64deaf83","relationships":{"classes":{"data":[{"id":"Loadable-0.11.1+64deaf83","type":"class"},{"id":"Storefront-0.11.1+64deaf83","type":"class"}]}},"attributes":{"version":"0.11.1+64deaf83"}},"included":[{"id":"Loadable-0.11.1+64deaf83","type":"class","attributes":{"name":"Loadable","shortname":"Loadable","classitems":[],"plugins":[],"extensions":[],"plugin_for":[],"extension_for":[],"file":"/home/travis/build/embermap/ember-data-storefront/tmp/docs_generator-input_base_path-ryuu3f5P.tmp/mixins/loadable.js","line":3,"description":"<div class=\"docs-md\"><p><em>This feature relies on JSON:API, and assumes that your server supports JSON:API includes.</em></p>\n<p>This mixin adds a <code>#load</code> method to your Ember Data models.</p>\n<pre><code class=\"lang-js\"><span class=\"hljs-comment\">// models/post.js</span>\n<span class=\"hljs-keyword\">import</span> DS <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'ember-data'</span>;\n<span class=\"hljs-keyword\">import</span> Loadable <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'ember-data-storefront/mixins/loadable'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> DS.Model.extend(Loadable, {\n  <span class=\"hljs-attr\">comments</span>: DS.hasMany()\n});\n</code></pre>\n<p><code>#load</code> gives you an explicit way to asynchronously load related data:</p>\n<pre><code class=\"lang-js\">post.load(<span class=\"hljs-string\">'comments'</span>);\n</code></pre>\n<p>The above uses Storefront&#39;s <code>loadRecord</code> method to query your backend for the post along with its comments.</p>\n<p>You can also use JSON:API&#39;s dot notation to load additional related relationships.</p>\n<pre><code class=\"lang-js\">post.load(<span class=\"hljs-string\">'comments.author'</span>);\n</code></pre>\n<p>Every call to <code>load()</code> will return a promise.</p>\n<pre><code class=\"lang-js\">post.load(<span class=\"hljs-string\">'comments'</span>).then(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'loaded comments!'</span>));\n</code></pre>\n<p>If a relationship has never been loaded, the promise will block until the data is loaded. However, if a relationship has already been loaded (even from calls to <code>loadRecord</code> elsewhere in your application), the promise will resolve synchronously with the data from Storefront&#39;s cache. This means you don&#39;t have to worry about overcalling <code>load()</code>.</p>\n<p>This feature works best when used on relationships that are defined with <code>{ async: false }</code> because it allows <code>load()</code> to load the data, and <code>get()</code> to access the data that has already been loaded.</p>\n<p>We suggest adding the <code>#load</code> API to every model in your app. To do so, reopen <code>DS.Model</code> in <code>app.js.</code> and mix in <code>Loadable</code>:</p>\n<pre><code class=\"lang-js\"><span class=\"hljs-comment\">// app/app.js</span>\n<span class=\"hljs-keyword\">import</span> DS <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'ember-data'</span>;\n<span class=\"hljs-keyword\">import</span> Loadable <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'ember-data-storefront/mixins/loadable'</span>;\n\nDS.Model.reopen(Loadable);\n</code></pre>\n</div>","access":"public","tagname":"","methods":[],"events":[],"properties":[]},"relationships":{"parent-class":{"data":null},"descendants":{"data":[]},"module":{"data":null},"project-version":{"data":{"type":"project-version","id":"ember-data-storefront-0.11.1+64deaf83"}}}},{"id":"Storefront-0.11.1+64deaf83","type":"class","attributes":{"name":"Storefront","shortname":"Storefront","classitems":[],"plugins":[],"extensions":[],"plugin_for":[],"extension_for":[],"file":"/home/travis/build/embermap/ember-data-storefront/tmp/docs_generator-input_base_path-ryuu3f5P.tmp/services/storefront.js","line":7,"description":"<div class=\"docs-md\"><p>Storefront&#39;s main service builds directly upon Ember Data&#39;s <code>Store</code>. Under the hood, this service delegates to Ember Data, so you should feel free to fall back to Ember Data&#39;s store at any time.</p>\n<p>By default, the <code>storefront</code> service is injected into all routes and controllers. If you&#39;d like to use the service in another Ember object, you can inject it as you would any other service:</p>\n<pre><code class=\"lang-js\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> Ember.Component.extend({\n  <span class=\"hljs-attr\">storefront</span>: Ember.service.inject(),\n\n  didInsertElement() {\n    <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'storefront'</span>).findAll(<span class=\"hljs-string\">'post'</span>, { <span class=\"hljs-attr\">filter</span>: { <span class=\"hljs-attr\">popular</span>: <span class=\"hljs-literal\">true</span> }});\n  }\n});\n</code></pre>\n</div>","access":"public","tagname":"","methods":[{"file":"/home/travis/build/embermap/ember-data-storefront/tmp/docs_generator-input_base_path-ryuu3f5P.tmp/services/storefront.js","line":34,"description":"<div class=\"docs-md\"><p>Finds the records for the given type and options and returns a promise.</p>\n<pre><code class=\"lang-js\"><span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'storefront'</span>)\n  .findAll(<span class=\"hljs-string\">'post'</span>, { <span class=\"hljs-attr\">filter</span>: { <span class=\"hljs-attr\">popular</span>: <span class=\"hljs-literal\">true</span> } })\n  .then(<span class=\"hljs-function\"><span class=\"hljs-params\">models</span> =&gt;</span> models);\n</code></pre>\n<p>Here are some more examples:</p>\n<pre><code class=\"lang-js\"><span class=\"hljs-comment\">// filters</span>\nstorefront.findAll(<span class=\"hljs-string\">'post'</span>, { <span class=\"hljs-attr\">filter</span>: { <span class=\"hljs-attr\">popular</span>: <span class=\"hljs-literal\">true</span> }});\n\n<span class=\"hljs-comment\">// pagination</span>\nstorefront.findAll(<span class=\"hljs-string\">'post'</span>, { <span class=\"hljs-attr\">page</span>: { <span class=\"hljs-attr\">limit</span>: <span class=\"hljs-number\">10</span>, <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">0</span> }});\n\n<span class=\"hljs-comment\">// includes</span>\nstorefront.findAll(<span class=\"hljs-string\">'post'</span>, { <span class=\"hljs-attr\">include</span>: <span class=\"hljs-string\">'comments'</span> });\n\n<span class=\"hljs-comment\">// force an already loaded set to reload (blocking promise)</span>\nstorefront.findAll(<span class=\"hljs-string\">'post'</span>, { <span class=\"hljs-attr\">reload</span>: <span class=\"hljs-literal\">true</span> });\n</code></pre>\n</div>","itemtype":"method","name":"findAll","params":[{"name":"type","description":"type of model to load","type":"String"},{"name":"options","description":"(optional) a hash of options","type":"Object"}],"return":{"description":"a promise resolving with the record array","type":"Promise"},"access":"public","tagname":"","class":"Storefront"}],"events":[],"properties":[]},"relationships":{"parent-class":{"data":null},"descendants":{"data":[]},"module":{"data":null},"project-version":{"data":{"type":"project-version","id":"ember-data-storefront-0.11.1+64deaf83"}}}}]}
